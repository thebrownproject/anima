{"id":"stackdocs-0b5","title":"Scroll padding for agent bar","description":"[Migrated from ACTIVE.md #38]\n\nContent cannot scroll past agent bar at bottom.\n\n- Documents table and extracted data table cut off behind agent bar\n- Need scroll padding/margin so users can scroll content past the floating bar\n- Affects both documents list and document detail views\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:47.068792+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:47.068792+11:00"}
{"id":"stackdocs-1jc","title":"Agent bar visual styling exploration","description":"[Migrated from ACTIVE.md #34]\n\nBackdrop blur, enhanced shadows, animation refinements.\n\nCurrent: Basic bg-sidebar with shadow-md\nExplore: Backdrop blur effects, depth/layering, dark mode polish\nRelated: Agent bar redesign\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:39.498048+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:39.498048+11:00"}
{"id":"stackdocs-2km","title":"Agent bar max height and scroll behavior","description":"[Migrated from ACTIVE.md #35]\n\nDefine expanded height limits and scroll UX.\n\nDefine max expanded height before scrolling\nScroll behavior for long content (steps list, flow content)\nRelated: Agent bar redesign\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:40.952745+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:40.952745+11:00"}
{"id":"stackdocs-39p","title":"Inline stack creation during upload","description":"[Migrated from ACTIVE.md #12]\n\n\"+ New Stack\" chip in upload dialog to create stack without leaving flow.\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:07.264132+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:07.264132+11:00"}
{"id":"stackdocs-41u","title":"Drag-and-drop anywhere on documents page","description":"[Migrated from ACTIVE.md #11]\n\nDrop file anywhere to start upload, skip dialog step 1, jump straight to extraction config.\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:05.316195+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:05.316195+11:00"}
{"id":"stackdocs-42c","title":"TanStack Query for instant navigation","description":"[Migrated from ACTIVE.md #27]\n\nAdd client-side caching to eliminate loading screens on repeat visits.\n\nProblem: Server Components refetch on every navigation, causing skeleton flashes\nSolution: TanStack Query with staleTime for documents list, detail pages\nGoal: File browser feel - cached data shown instantly, background sync\nScope: Start with documents list, expand to stacks if successful\n\nDate: 2025-12-29","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:54.879335+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:54.879335+11:00"}
{"id":"stackdocs-4dj","title":"OS-aware keyboard shortcut display","description":"[Migrated from ACTIVE.md #31]\n\nCreate useModifierKey() hook to show Cmd on Mac, Ctrl on Windows/Linux in tooltips.\n\nCurrently: Tooltips hardcode Cmd symbol (e.g., \"Toggle sidebar (Cmd+B)\", \"Search (Cmd+K)\")\nGoal: Detect OS and show appropriate modifier key\nFiles: frontend/app/(app)/layout.tsx:53, frontend/components/layout/sidebar/sidebar-header-menu.tsx:116\n\nDate: 2025-12-31","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:33.776189+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:33.776189+11:00"}
{"id":"stackdocs-4pv","title":"Reusable EmptyState component","description":"[Migrated from ACTIVE.md #41]\n\nConsistent empty state UI across all pages.\n\nProps: icon, title, description, optional action button\nUse cases: no documents uploaded, no search results, no filters match, no stacks, preview panel (no doc selected)\nDesign: Simple illustration + text pattern, keep it lightweight\n\nDate: 2026-01-07","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:50.218523+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:50.218523+11:00"}
{"id":"stackdocs-4z3","title":"Stacks Feature","description":"Frontend stacks UI feature - pages and tables. Phases 1-2 complete (foundation, pages). Phase 3 partially complete (table view done, pending tasks deferred until Stack Agent built).","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:27.746807+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:28:27.746807+11:00"}
{"id":"stackdocs-4z3.1","title":"Add 'Not extracted' indicator for pending docs","description":"Show pending extraction indicator in StackTableView for documents not yet in stack_table_rows. Blocked until Stack Agent is built.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:23.225618+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:23.225618+11:00","dependencies":[{"issue_id":"stackdocs-4z3.1","depends_on_id":"stackdocs-4z3","type":"parent-child","created_at":"2026-01-25T10:30:23.22712+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-4z3.1","depends_on_id":"stackdocs-drg","type":"blocks","created_at":"2026-01-25T10:30:32.590091+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-4z3.2","title":"Add CSV export functionality","description":"Create frontend/lib/export-csv.ts utility and wire up Export button in stack-detail-client.tsx. Blocked until Stack Agent populates data.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:24.679191+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:24.679191+11:00","dependencies":[{"issue_id":"stackdocs-4z3.2","depends_on_id":"stackdocs-4z3","type":"parent-child","created_at":"2026-01-25T10:30:24.679895+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-4z3.2","depends_on_id":"stackdocs-drg","type":"blocks","created_at":"2026-01-25T10:30:34.08092+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-4z3.3","title":"Create stacks component barrel export","description":"Create frontend/components/stacks/index.ts with exports for StackDetailClient, StackDocumentsTab, StackTableView, createStackTableColumns.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:26.070896+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:26.070896+11:00","dependencies":[{"issue_id":"stackdocs-4z3.3","depends_on_id":"stackdocs-4z3","type":"parent-child","created_at":"2026-01-25T10:30:26.071656+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-5k1","title":"Create useLocalStorage hook","description":"[Migrated from ACTIVE.md #29 - was tech-debt]\n\nReusable hook for localStorage state with SSR handling.\n\nCurrently: Inline localStorage usage in preview-panel-context.tsx\nGoal: DRY pattern for persisting UI state (sidebar, panels, preferences)\nConsider: useSyncExternalStore for proper SSR support\n\nDate: 2025-12-29","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:58.055575+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:58.055575+11:00"}
{"id":"stackdocs-6e9","title":"Changed field highlight animation not visible","description":"[Migrated from ACTIVE.md #8]\n\nAnimation exists but too subtle or clearing too fast.\n\nFiles:\n- frontend/app/globals.css:130-142\n- frontend/components/documents/document-detail-client.tsx (changedFields state)\n- frontend/components/documents/extracted-data-table.tsx:97\n\nFix: Increase opacity (currently 15%), extend duration, or check if class is being applied.\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:02.224812+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:02.224812+11:00"}
{"id":"stackdocs-6x8","title":"Field type definitions for custom extraction","description":"[Migrated from ACTIVE.md #2]\n\nAdd type selector (text, number, date, array) to field badges, enforce type safety in agent output.\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:06:52.728008+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:06:52.728008+11:00"}
{"id":"stackdocs-73j","title":"Investigate Mistral OCR markdown output","description":"[Migrated from ACTIVE.md #7]\n\nCurrently exporting as raw text, check if API supports structured markdown output.\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:00.936626+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:00.936626+11:00"}
{"id":"stackdocs-7cw","title":"Realtime subscription breaks on document detail pages","description":"[Migrated from ACTIVE.md #25]\n\nChannel fails with \"CLOSED undefined\" after 1-2 minutes, likely Clerk JWT expiry not refreshing Supabase connection.\n\nError: [Realtime Debug] Channel failed: CLOSED undefined in useExtractionRealtime.useEffect\n\nFiles:\n- frontend/hooks/useExtractionRealtime.ts\n\nInvestigate: JWT token refresh, Supabase realtime auth, channel reconnection logic.\n\nDate: 2025-12-28","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:51.071101+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:51.071101+11:00"}
{"id":"stackdocs-7vb","title":"Documents Redesign","description":"Transform Documents section from file+extraction hybrid into pure file management. AI-generated metadata on upload, metadata review step, simplified document table.","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:16.524937+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:28:16.524937+11:00"}
{"id":"stackdocs-7vb.1","title":"Phase 1: Create database migration for metadata columns","description":"Add display_name, tags, summary, updated_at columns to documents table. Create migration file, apply via Supabase, verify trigger works.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:39.069143+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.182041+11:00","closed_at":"2026-01-26T14:56:25.182041+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.1","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:39.070165+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.10","title":"Phase 3: Add streamDocumentMetadata API helper","description":"Add SSE streaming function to frontend/lib/agent-api.ts for metadata generation endpoint.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:21.053622+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.204349+11:00","closed_at":"2026-01-26T14:56:25.204349+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.10","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:21.054384+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.11","title":"Phase 3: Create UploadProcessing step component","description":"Create upload-processing.tsx showing spinner and tool events during OCR + metadata generation.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:22.383628+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.206077+11:00","closed_at":"2026-01-26T14:56:25.206077+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.11","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:22.384429+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.12","title":"Phase 3: Create UploadMetadata step component","description":"Create upload-metadata.tsx with editable display name, tags, summary, optional stack picker, regenerate and save buttons.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:24.077493+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.207824+11:00","closed_at":"2026-01-26T14:56:25.207824+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.12","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:24.078386+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.13","title":"Phase 3: Update UploadComplete and flow metadata","description":"Update complete step messaging, update steps/index.ts exports, update metadata.ts flow config.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:25.749419+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.20952+11:00","closed_at":"2026-01-26T14:56:25.20952+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.13","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:25.750287+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.14","title":"Phase 3: Rewrite use-upload-flow hook","description":"Implement new flow: file select -\u003e upload -\u003e OCR -\u003e metadata generation -\u003e review -\u003e save. Handle regenerate and stack assignment.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:27.120824+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.21127+11:00","closed_at":"2026-01-26T14:56:25.21127+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.14","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:27.121575+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.15","title":"Phase 3: Delete old step components","description":"Delete upload-configure.tsx, upload-fields.tsx, upload-extracting.tsx, extraction-method-card.tsx, field-tag-input.tsx after verifying build.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:29.284491+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.21302+11:00","closed_at":"2026-01-26T14:56:25.21302+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.15","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:29.285353+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.16","title":"Phase 4: Delete /documents/[id] routes","description":"Remove document detail page routes if they exist (main, @header, @subbar).","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:46.405235+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:46.405235+11:00","dependencies":[{"issue_id":"stackdocs-7vb.16","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:46.406338+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-7vb.16","depends_on_id":"stackdocs-7vb.15","type":"blocks","created_at":"2026-01-25T10:30:10.864756+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.17","title":"Phase 4: Change document name from Link to span","description":"Update columns.tsx to remove Link navigation from document name cell.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:48.075016+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:48.075016+11:00","dependencies":[{"issue_id":"stackdocs-7vb.17","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:48.075915+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.18","title":"Phase 4: Update preview panel with new metadata display","description":"Add displayName, tags, summary to PreviewMetadata. Remove fieldCount. Show tags as badges, summary with tooltip.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:49.862677+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:49.862677+11:00","dependencies":[{"issue_id":"stackdocs-7vb.18","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:49.863453+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.19","title":"Phase 4: Update selected document context and data flow","description":"Add displayName, tags, summary to context. Update Document type. Update documents-table.tsx and layout.tsx.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:51.141593+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:51.141593+11:00","dependencies":[{"issue_id":"stackdocs-7vb.19","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:51.142351+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.2","title":"Phase 1: Update SCHEMA.md documentation","description":"Update docs/specs/SCHEMA.md with new columns, trigger function, and migration entry.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:40.661365+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.186545+11:00","closed_at":"2026-01-26T14:56:25.186545+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.2","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:40.662075+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-7vb.2","depends_on_id":"stackdocs-7vb.1","type":"blocks","created_at":"2026-01-25T10:30:06.189298+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.20","title":"Phase 4: Add selected document breadcrumb to header","description":"Extend PageHeader to show selected document name. Update @header/documents/page.tsx to display.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:52.632574+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:52.632574+11:00","dependencies":[{"issue_id":"stackdocs-7vb.20","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:52.633358+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.21","title":"Phase 4: Deprecate extract-document flow","description":"Remove from agent-actions.tsx, registry.ts, agent-store.ts. Add deprecation comments to flow files.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:54.352751+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:54.352751+11:00","dependencies":[{"issue_id":"stackdocs-7vb.21","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:54.3536+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.22","title":"Phase 4: Clean up deprecated components and queries","description":"Add deprecation comments to document detail components, getDocumentWithExtraction, streamAgentExtraction. Update CLAUDE.md.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:55.688625+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:55.688625+11:00","dependencies":[{"issue_id":"stackdocs-7vb.22","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:55.689603+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.23","title":"Phase 4: Verify build and manual testing","description":"Run npm run build, test all functionality in browser per manual testing checklist.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:56.948486+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:29:56.948486+11:00","dependencies":[{"issue_id":"stackdocs-7vb.23","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:56.94948+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.3","title":"Phase 2: Create document_processor_agent directory structure","description":"Create backend/app/agents/document_processor_agent/ with __init__.py, agent.py, prompts.py, and tools/ subdirectory.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:54.373887+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.189005+11:00","closed_at":"2026-01-26T14:56:25.189005+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.3","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:54.374961+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-7vb.3","depends_on_id":"stackdocs-7vb.2","type":"blocks","created_at":"2026-01-25T10:30:07.71003+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.4","title":"Phase 2: Create shared read_ocr tool (DRY)","description":"Extract read_ocr tool to backend/app/agents/shared/tools/ for reuse by extraction_agent and document_processor_agent.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:56.408671+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.191032+11:00","closed_at":"2026-01-26T14:56:25.191032+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.4","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:56.409659+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.5","title":"Phase 2: Create save_metadata tool","description":"Create save_metadata tool that writes display_name, tags, summary to documents table with validation.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:58.189322+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.193153+11:00","closed_at":"2026-01-26T14:56:25.193153+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.5","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:58.190049+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.6","title":"Phase 2: Create metadata system prompt","description":"Create METADATA_SYSTEM_PROMPT in prompts.py with guidelines for display_name, tags, and summary generation.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:59.708814+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.195653+11:00","closed_at":"2026-01-26T14:56:25.195653+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.6","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:28:59.709552+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.7","title":"Phase 2: Create process_document_metadata agent function","description":"Implement process_document_metadata() in agent.py with Claude Agent SDK streaming.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:01.336482+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.198618+11:00","closed_at":"2026-01-26T14:56:25.198618+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.7","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:01.337387+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.8","title":"Phase 2: Create POST /api/document/metadata endpoint","description":"Add SSE streaming endpoint to routes/document.py. Create shared sse_event utility in utils/sse.py.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:02.652837+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.200735+11:00","closed_at":"2026-01-26T14:56:25.200735+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.8","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:02.653606+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7vb.9","title":"Phase 3: Update agent store types for new upload flow","description":"Update UploadFlowStep and UploadFlowData types. Change steps to dropzone/processing/metadata/complete.","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:29:18.972092+11:00","created_by":"thebrownproject","updated_at":"2026-01-26T14:56:25.202623+11:00","closed_at":"2026-01-26T14:56:25.202623+11:00","close_reason":"Code review verified implementation complete (Phases 1-3 of Documents Redesign)","dependencies":[{"issue_id":"stackdocs-7vb.9","depends_on_id":"stackdocs-7vb","type":"parent-child","created_at":"2026-01-25T10:29:18.973103+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-7vb.9","depends_on_id":"stackdocs-7vb.8","type":"blocks","created_at":"2026-01-25T10:30:09.317279+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-7zs","title":"Upload dialog UI/UX polish","description":"[Migrated from ACTIVE.md #21]\n\nRedesign wizard flow, integrate with AI chat bar for seamless upload-to-extraction experience.\n\nDate: 2025-12-28","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:49.381915+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:49.381915+11:00"}
{"id":"stackdocs-830","title":"Superpowers to Space-Agents Migration","status":"closed","priority":1,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:25.354634+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T18:49:31.104998+11:00","closed_at":"2026-01-25T18:49:31.104998+11:00","close_reason":"Migration complete: DEV-NOTES→CAPCOM, Issues→Beads, Features→Epics, CLAUDE.md updated, folders restructured, commands archived"}
{"id":"stackdocs-830.1","title":"Transform DEV-NOTES to CAPCOM","description":"Convert 111 sessions from DEV-NOTES.md to CAPCOM format using Python script","status":"closed","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:36.841507+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:05:34.943704+11:00","closed_at":"2026-01-25T10:05:34.943704+11:00","close_reason":"Closed","dependencies":[{"issue_id":"stackdocs-830.1","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:36.842273+11:00","created_by":"thebrownproject"}],"comments":[{"id":1,"issue_id":"stackdocs-830.1","author":"thebrownproject","text":"[ATTEMPT] Starting implementation - attempt 1","created_at":"2026-01-24T22:56:40Z"},{"id":2,"issue_id":"stackdocs-830.1","author":"thebrownproject","text":"[HANDOVER] DEV-NOTES to CAPCOM migration script created\n\n## Summary\nCreated Python script to migrate 109 sessions from DEV-NOTES.md to CAPCOM format. Script handles both old format (Sessions 1-2) and new superpowers template format. Idempotent - can be re-run safely.\n\n## Files Changed\n- backend/scripts/migrate_devnotes_to_capcom.py (created)\n\n## Key Details\n- Usage: python backend/scripts/migrate_devnotes_to_capcom.py [--dry-run]\n- Parses session headers, extracts completed tasks, decisions, issues, next steps\n- CAPCOM entries use format: ## [YYYY-MM-DD] Session N: Title\n- Already migrated 108 sessions to .space-agents/comms/capcom.md\n\n## Notes\n- Session count is 109 (not 111 as originally estimated)\n- One duplicate Session 50 exists in DEV-NOTES (same date)\n- Consider adding explicit encoding='utf-8' to file operations for cross-platform consistency","created_at":"2026-01-24T23:05:15Z"}]}
{"id":"stackdocs-830.10","title":"BLOCKER: Pod reported blocker","status":"closed","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:25:15.871147+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T18:21:57.140147+11:00","closed_at":"2026-01-25T18:21:57.140147+11:00","close_reason":"Stale blocker - task .3 already completed successfully","dependencies":[{"issue_id":"stackdocs-830.10","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T10:25:15.871995+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-830.11","title":"BLOCKER: Pod reported blocker","status":"closed","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:35:26.571584+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:37:39.231286+11:00","closed_at":"2026-01-25T10:37:39.231286+11:00","close_reason":"Orphan blocker - no context, current pod run successful","dependencies":[{"issue_id":"stackdocs-830.11","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T10:35:26.572497+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-830.2","title":"Migrate Issues to Beads","description":"Convert 31 issues from ACTIVE.md to Beads","status":"closed","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:36.947583+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:12:18.39531+11:00","closed_at":"2026-01-25T10:12:18.39531+11:00","close_reason":"Closed","dependencies":[{"issue_id":"stackdocs-830.2","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:36.948275+11:00","created_by":"thebrownproject"}],"comments":[{"id":3,"issue_id":"stackdocs-830.2","author":"thebrownproject","text":"[ATTEMPT] Starting implementation - attempt 1","created_at":"2026-01-24T23:06:08Z"},{"id":4,"issue_id":"stackdocs-830.2","author":"thebrownproject","text":"[HANDOVER] Migrated 31 issues from ACTIVE.md to Beads\n\n## Summary\nSuccessfully migrated all 31 issues from docs/plans/issues/ACTIVE.md to the Beads issue tracker. Original issue numbers are preserved in bead descriptions for traceability.\n\n## Files Changed\n- .beads/issues.jsonl (modified - 31 new issues added)\n- docs/plans/issues/ACTIVE.md (modified - marked as [ARCHIVED])\n\n## Key Details\n- Type mapping: bug -\u003e bug, feature -\u003e feature, tech-debt -\u003e task\n- All issues set to P2 priority\n- Each bead includes [Migrated from ACTIVE.md #XX] in description\n- Original ACTIVE.md preserved for historical reference with strikethrough on old workflow text\n\n## Notes\n- COMPLETED.md was not migrated (contains 9 resolved issues for historical reference)\n- The issue list in ACTIVE.md is still visible but marked archived - users should use bd commands going forward","created_at":"2026-01-24T23:12:14Z"}]}
{"id":"stackdocs-830.3","title":"Update CLAUDE.md Files","description":"Update root and docs/ CLAUDE.md to reference Space-Agents workflow","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:37.05302+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:20:00.168259+11:00","closed_at":"2026-01-25T10:20:00.168259+11:00","close_reason":"Closed","dependencies":[{"issue_id":"stackdocs-830.3","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:37.053739+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.3","depends_on_id":"stackdocs-830.10","type":"blocks","created_at":"2026-01-25T10:25:15.98079+11:00","created_by":"thebrownproject"}],"comments":[{"id":5,"issue_id":"stackdocs-830.3","author":"thebrownproject","text":"[ATTEMPT] Starting implementation - attempt 1","created_at":"2026-01-24T23:16:39Z"},{"id":6,"issue_id":"stackdocs-830.3","author":"thebrownproject","text":"[HANDOVER] Updated CLAUDE.md files to Space-Agents workflow\n\n## Summary\nUpdated root CLAUDE.md and docs/CLAUDE.md to reference Space-Agents workflow instead of Superpowers. All skill references, session commands, and documentation paths migrated.\n\n## Files Changed\n- CLAUDE.md (modified)\n- docs/CLAUDE.md (modified)\n\n## Key Details\n- Workflow skills: /exploration, /exploration-plan, /mission\n- Session commands: /launch, /land, /capcom\n- Session history: .space-agents/comms/capcom.md (was DEV-NOTES.md)\n- Issue tracking: Beads bd commands (was ACTIVE.md)\n- Folder structure updated to show .space-agents/ and .beads/\n\n## Notes\n- Old files (DEV-NOTES.md, ACTIVE.md) still exist for reference but are no longer documented\n- Analyst noted cleanup task may be needed later to remove old files","created_at":"2026-01-24T23:19:55Z"}]}
{"id":"stackdocs-830.4","title":"Migrate Features to Beads","description":"Convert 4 features from plans/ to Beads epics: documents-redesign, stacks, stack-agent, backend-hardening","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:43.161905+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:37:39.766361+11:00","closed_at":"2026-01-25T10:37:39.766361+11:00","close_reason":"Closed","dependencies":[{"issue_id":"stackdocs-830.4","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:43.162594+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.4","depends_on_id":"stackdocs-830.2","type":"blocks","created_at":"2026-01-25T09:38:01.754436+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.4","depends_on_id":"stackdocs-830.11","type":"blocks","created_at":"2026-01-25T10:35:26.669494+11:00","created_by":"thebrownproject"}],"comments":[{"id":7,"issue_id":"stackdocs-830.4","author":"thebrownproject","text":"[ATTEMPT] Starting implementation - attempt 1","created_at":"2026-01-24T23:27:00Z"},{"id":8,"issue_id":"stackdocs-830.4","author":"thebrownproject","text":"[HANDOVER] Migrated 4 feature plans to Beads epics with 48 child tasks\n\n## Summary\nSuccessfully migrated 4 feature plans from docs/plans/ to Beads issue tracker as epics. Created 48 child tasks across the epics with appropriate dependencies between phases.\n\n## Files Changed\n- CLAUDE.md (modified - workflow updated to Space-Agents)\n- docs/CLAUDE.md (modified - planning docs updated)\n- docs/plans/in-progress/documents-redesign/README.md (archived)\n- docs/plans/in-progress/stacks/2025-12-29-stacks-implementation-plan.md (archived)\n- docs/plans/issues/ACTIVE.md (archived notice added)\n- docs/plans/roadmap/IN-PROGRESS.md (status updated)\n- docs/plans/todo/backend-hardening/2025-12-23-backend-production-hardening.md (archived)\n- docs/plans/todo/stack-agent/04-backend-routes.md (archived)\n- docs/plans/todo/stack-agent/05-agent-tools.md (archived)\n\n## Key Details\n- Epic IDs: stackdocs-7vb (Documents Redesign, 23 tasks), stackdocs-4z3 (Stacks, 3 tasks), stackdocs-drg (Stack Agent, 8 tasks), stackdocs-e7z (Backend Hardening, 14 tasks)\n- Dependencies added: phase-based within epics, cross-epic (Stacks blocked by Stack Agent)\n- Archive format: [ARCHIVED] in title + migration notice pointing to bd show command\n\n## Notes\n- Original plan files preserved for detailed implementation notes\n- Analyst noted info-level issue: archived files still contain superpowers:executing-plans reference (acceptable for historical context)","created_at":"2026-01-24T23:37:16Z"}]}
{"id":"stackdocs-830.5","title":"Restructure Folders","description":"Archive old docs/plans/ and docs/sessions/ to docs/archive/","status":"closed","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:53.80588+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T18:37:03.775036+11:00","closed_at":"2026-01-25T18:37:03.775036+11:00","close_reason":"Archived docs/plans/ and docs/sessions/ to docs/archive/, updated CLAUDE.md references","dependencies":[{"issue_id":"stackdocs-830.5","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:53.806613+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.5","depends_on_id":"stackdocs-830.1","type":"blocks","created_at":"2026-01-25T09:38:01.84162+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.5","depends_on_id":"stackdocs-830.2","type":"blocks","created_at":"2026-01-25T09:38:01.9258+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.5","depends_on_id":"stackdocs-830.4","type":"blocks","created_at":"2026-01-25T09:38:02.01142+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-830.6","title":"Cleanup Commands","description":"Archive or delete old .claude/commands/ that are replaced by Space-Agents","status":"closed","priority":3,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:53.909913+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T18:42:53.094769+11:00","closed_at":"2026-01-25T18:42:53.094769+11:00","close_reason":"Archived 6 replaced commands to .claude/commands/archive/, kept code-review.md and debug.md","dependencies":[{"issue_id":"stackdocs-830.6","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:53.910597+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.6","depends_on_id":"stackdocs-830.5","type":"blocks","created_at":"2026-01-25T09:38:02.096103+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-830.7","title":"Cleanup Superpowers References","description":"Remove stale superpowers references from 20+ archived plan files (low priority)","status":"closed","priority":3,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T09:37:54.012286+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T18:49:17.321569+11:00","closed_at":"2026-01-25T18:49:17.321569+11:00","close_reason":"Updated code-review.md to remove superpowers prefix, verified no active CLAUDE.md files reference superpowers, left archives unchanged","dependencies":[{"issue_id":"stackdocs-830.7","depends_on_id":"stackdocs-830","type":"parent-child","created_at":"2026-01-25T09:37:54.013056+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-830.7","depends_on_id":"stackdocs-830.5","type":"blocks","created_at":"2026-01-25T09:38:02.182947+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-8dl","title":"Undo/Redo navigation in sidebar header","description":"[Migrated from ACTIVE.md #18]\n\nLinear-style back/forward/history buttons above search, requires navigation history system.\n\nDate: 2025-12-25","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:46.600801+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:46.600801+11:00"}
{"id":"stackdocs-8pg","title":"Preview panel redesign","description":"[Migrated from ACTIVE.md #36]\n\nUI tweaks to right-side document preview.\n\n- PDF/Visual tab styling improvements\n- Document metadata section (filename, date, size, status)\n- Visual (OCR) view markdown rendering polish\n- Loading states when switching documents\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:42.347018+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:42.347018+11:00"}
{"id":"stackdocs-8tb","title":"Preview panel Open button","description":"[Migrated from ACTIVE.md #40]\n\nAdd button in preview panel header to navigate to document detail.\n\n- When document is previewed in sidebar, show \"Open\" or expand icon in preview panel header\n- Clicking navigates to /documents/[id] detail page\n- Pattern similar to Linear/Notion preview panels\n- Related: Preview panel redesign (#36)\n\nDate: 2026-01-04","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:48.347265+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:48.347265+11:00"}
{"id":"stackdocs-97i","title":"Persist selected document in Zustand","description":"[Migrated from ACTIVE.md #37]\n\nRemember last selected doc on page reload.\n\n- Add localStorage persistence to selected document state\n- Use Zustand persist middleware\n- Restore selection when navigating back to documents page\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:45.678181+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:45.678181+11:00"}
{"id":"stackdocs-cch","title":"Document status stuck at ocr_complete","description":"[Migrated from ACTIVE.md #16]\n\nExtraction agent saves data but doesn't call complete tool, so document/extraction status never updates to completed.\n\nFiles:\n- backend/app/agents/extraction_agent/agent.py\n- backend/app/agents/extraction_agent/tools/complete.py\n\nAgent needs to reliably call complete tool after saving extraction.\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:45.419036+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:45.419036+11:00"}
{"id":"stackdocs-cpy","title":"Evaluate column separation pattern for dynamic tables","description":"[Migrated from ACTIVE.md #26 - was tech-debt]\n\nStack tables use separated columns file (stack-table-columns.tsx) following documents pattern, but columns are dynamically generated from schema. Consider if inline definition would be simpler for this use case.\n\nCurrent: columns.tsx separate, documents-table.tsx imports it (static columns, 170 lines)\nStack tables: Dynamic createStackTableColumns(schema) function - tightly coupled anyway\nQuestion: Does separation still provide value for dynamic column generation?\n\nDate: 2025-12-29","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:53.260241+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:53.260241+11:00"}
{"id":"stackdocs-drg","title":"Stack Agent","description":"Backend stack extraction agent with SSE routes. Create FastAPI routes for stack agent operations (extract, correct) and Claude Agent SDK tools for reading documents and writing stack table rows.","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:29.682019+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:28:29.682019+11:00"}
{"id":"stackdocs-drg.1","title":"Create stack_agent directory structure","description":"Create backend/app/agents/stack_agent/ with __init__.py, agent.py, prompts.py, and tools/ subdirectory.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:48.653958+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:48.653958+11:00","dependencies":[{"issue_id":"stackdocs-drg.1","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:48.654913+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.2","title":"Create stack agent prompts","description":"Write STACK_EXTRACTION_SYSTEM_PROMPT and task templates for auto/custom modes and correction workflow.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:49.916701+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:49.916701+11:00","dependencies":[{"issue_id":"stackdocs-drg.2","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:49.917459+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.3","title":"Create stack agent read tools","description":"Implement read_document_extraction, read_ocr, read_rows tools in tools/read_tools.py.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:51.173611+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:51.173611+11:00","dependencies":[{"issue_id":"stackdocs-drg.3","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:51.174437+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.4","title":"Create stack agent write tools","description":"Implement define_columns, save_row, update_row, complete tools in tools/write_tools.py.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:52.936255+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:52.936255+11:00","dependencies":[{"issue_id":"stackdocs-drg.4","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:52.936968+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.5","title":"Create stack agent tool factory","description":"Implement create_extraction_tools and create_correction_tools in tools/__init__.py.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:54.304639+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:54.304639+11:00","dependencies":[{"issue_id":"stackdocs-drg.5","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:54.305476+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.6","title":"Implement extract_stack_table and correct_stack_table","description":"Main agent functions in agent.py with Claude Agent SDK streaming.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:30:55.957614+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:30:55.957614+11:00","dependencies":[{"issue_id":"stackdocs-drg.6","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:30:55.958594+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-drg.6","depends_on_id":"stackdocs-drg.5","type":"blocks","created_at":"2026-01-25T10:31:14.428993+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.7","title":"Create stack router with SSE endpoints","description":"Create backend/app/routes/stack.py with POST /api/stack/{stack_id}/tables/{table_id}/extract and /correct endpoints.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:03.262825+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:03.262825+11:00","dependencies":[{"issue_id":"stackdocs-drg.7","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:31:03.264215+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-drg.7","depends_on_id":"stackdocs-drg.6","type":"blocks","created_at":"2026-01-25T10:31:16.154694+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-drg.8","title":"Register stack router in main.py","description":"Import and register stack_router with prefix /api/stack in backend/app/main.py.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:04.819038+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:04.819038+11:00","dependencies":[{"issue_id":"stackdocs-drg.8","depends_on_id":"stackdocs-drg","type":"parent-child","created_at":"2026-01-25T10:31:04.81983+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-drg.8","depends_on_id":"stackdocs-drg.7","type":"blocks","created_at":"2026-01-25T10:31:17.979007+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z","title":"Backend Production Hardening","description":"Harden FastAPI backend for production: security headers, CORS restrictions, rate limiting, file content validation, structured logging, global exception handling.","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:28:31.441145+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:28:31.441145+11:00"}
{"id":"stackdocs-e7z.1","title":"Phase 1: Add security headers middleware","description":"Create middleware/security.py with HSTS, X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy, Permissions-Policy.","status":"open","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:25.8324+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:25.8324+11:00","dependencies":[{"issue_id":"stackdocs-e7z.1","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:25.833827+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.10","title":"Phase 5: Enhance Pydantic settings validation","description":"Add field validators for CLAUDE_MODEL, ENVIRONMENT. Add min_length constraints to API keys.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:04.230035+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:04.230035+11:00","dependencies":[{"issue_id":"stackdocs-e7z.10","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:04.231058+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.11","title":"Phase 6: Enhance health check endpoint","description":"Add database connectivity check. Return 'degraded' status if checks fail. Include individual check results.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:09.945997+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:09.945997+11:00","dependencies":[{"issue_id":"stackdocs-e7z.11","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:09.9467+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.12","title":"Phase 7: Finalize middleware stack order","description":"Organize middleware in correct order: RequestID (outermost), CORS, SecurityHeaders, SlowAPI. Verify integration.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:18.381707+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:18.381707+11:00","dependencies":[{"issue_id":"stackdocs-e7z.12","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:18.382551+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-e7z.12","depends_on_id":"stackdocs-e7z.11","type":"blocks","created_at":"2026-01-25T10:32:30.040572+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.13","title":"Phase 7: Add graceful shutdown to Dockerfile","description":"Add --timeout-graceful-shutdown 30 to uvicorn CMD for in-flight request completion.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:19.797667+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:19.797667+11:00","dependencies":[{"issue_id":"stackdocs-e7z.13","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:19.798446+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.14","title":"Phase 7: Create PRODUCTION.md documentation","description":"Document security checklist, rate limits, environment variables, and deployment configuration.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:21.136839+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:21.136839+11:00","dependencies":[{"issue_id":"stackdocs-e7z.14","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:21.137639+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.2","title":"Phase 1: Restrict CORS configuration","description":"Update CORS middleware to explicit methods (GET, POST, PUT, DELETE, OPTIONS) and headers (Authorization, Content-Type, X-Request-ID).","status":"open","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:27.89389+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:27.89389+11:00","dependencies":[{"issue_id":"stackdocs-e7z.2","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:27.894888+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.3","title":"Phase 2: Install slowapi and create rate limiter","description":"Add slowapi to requirements.txt. Create middleware/rate_limit.py with user/IP-based keys and 100/minute default.","status":"open","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:35.0243+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:35.0243+11:00","dependencies":[{"issue_id":"stackdocs-e7z.3","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:35.025241+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.4","title":"Phase 2: Apply rate limits to routes","description":"Add rate decorators: upload 10/min, retry-ocr 5/min, extract 20/min, correct 30/min. Register in main.py.","status":"open","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:37.393508+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:37.393508+11:00","dependencies":[{"issue_id":"stackdocs-e7z.4","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:37.394332+11:00","created_by":"thebrownproject"},{"issue_id":"stackdocs-e7z.4","depends_on_id":"stackdocs-e7z.3","type":"blocks","created_at":"2026-01-25T10:32:27.987929+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.5","title":"Phase 3: Install python-magic and validate file content","description":"Add python-magic to requirements.txt, libmagic to Dockerfile. Update _validate_file to check actual MIME type from bytes.","status":"open","priority":1,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:43.391485+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:43.391485+11:00","dependencies":[{"issue_id":"stackdocs-e7z.5","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:43.392242+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.6","title":"Phase 4: Create global exception handlers","description":"Create middleware/exceptions.py with global, HTTP, and validation exception handlers. Hide internal details in production.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:52.250002+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:52.250002+11:00","dependencies":[{"issue_id":"stackdocs-e7z.6","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:52.250936+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.7","title":"Phase 4: Add request ID middleware","description":"Create middleware/request_id.py to generate/propagate X-Request-ID for tracing.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:53.671952+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:53.671952+11:00","dependencies":[{"issue_id":"stackdocs-e7z.7","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:53.673208+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.8","title":"Phase 4: Sanitize error messages in services","description":"Update storage.py and document.py to return generic error messages, log details internally.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:31:55.436419+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:31:55.436419+11:00","dependencies":[{"issue_id":"stackdocs-e7z.8","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:31:55.437581+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-e7z.9","title":"Phase 5: Add structured logging configuration","description":"Create logging_config.py with JSON formatter for production, readable format for development. Initialize in main.py.","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:32:02.531313+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:32:02.531313+11:00","dependencies":[{"issue_id":"stackdocs-e7z.9","depends_on_id":"stackdocs-e7z","type":"parent-child","created_at":"2026-01-25T10:32:02.532165+11:00","created_by":"thebrownproject"}]}
{"id":"stackdocs-fg6","title":"Sidebar collapsible section state persistence","description":"[Migrated from ACTIVE.md #28]\n\nRemember open/closed state across page refreshes.\n\nChallenge: SSR hydration mismatch when reading localStorage on client\nOptions: Cookies (server-readable), localStorage with hydration workaround, or accept flash\nFiles: frontend/components/layout/sidebar/collapsible-section.tsx\n\nDate: 2025-12-29","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:56.473476+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:56.473476+11:00"}
{"id":"stackdocs-h3e","title":"Sub-bar button functionality","description":"[Migrated from ACTIVE.md #20]\n\nFilter dropdown options, Edit inline editing, Export format options need implementation.\n\nDate: 2025-12-28","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:48.116582+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:48.116582+11:00"}
{"id":"stackdocs-k8w","title":"Documents table accessibility improvements","description":"[Migrated from ACTIVE.md #5 - was tech-debt]\n\nAdd keyboard navigation (Enter/Space) and ARIA labels to clickable rows in documents table.\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"task","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:06:57.301429+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:06:57.301429+11:00"}
{"id":"stackdocs-lab","title":"Global context to persist SSE streams across navigation","description":"[Migrated from ACTIVE.md #10]\n\nCurrently if user navigates away mid-extraction/correction, progress panel is lost (agent continues server-side).\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:03.795937+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:03.795937+11:00"}
{"id":"stackdocs-lau","title":"AI prompt flow with auto-generated titles","description":"[Migrated from ACTIVE.md #33]\n\nNatural language input morphs to brief summary title, agent works on request.\n\nUser types prompt in agent bar -\u003e bar morphs to show AI-generated 3-5 word title\nAgent streams response in content area below\nSame unified card pattern as wizard flows\nRelated: Agent bar redesign (docs/plans/in-progress/agent-bar-redesign/)\n\nDate: 2026-01-01","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:37.67489+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:37.67489+11:00"}
{"id":"stackdocs-qdr","title":"Sign-in page flashes briefly after login","description":"[Migrated from ACTIVE.md #4]\n\nSign-in page flashes briefly after login before redirecting to /documents.\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:06:55.86518+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:06:55.86518+11:00"}
{"id":"stackdocs-s1j","title":"OCR images not rendering in Visual preview","description":"[Migrated from ACTIVE.md #6]\n\nMistral OCR extracts images as ![img-0.jpeg](img-0.jpeg) but we don't store/serve them.\n\nOptions:\n- Store extracted images to Supabase Storage during OCR\n- Or strip/hide image markdown\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:06:59.033904+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:06:59.033904+11:00"}
{"id":"stackdocs-sov","title":"Assign document to stacks from document detail page","description":"[Migrated from ACTIVE.md #30]\n\nDropdown in sub-bar to add/remove document from stacks, needs to handle re-extraction when stack membership changes.\n\nDate: 2025-12-30","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:59.886765+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:59.886765+11:00"}
{"id":"stackdocs-z2j","title":"Support JPG/PNG image uploads","description":"[Migrated from ACTIVE.md #14]\n\nMistral OCR already handles images, just need to update accepted file types in upload dialog.\n\nDate: 2025-12-24","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:07:43.833015+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:07:43.833015+11:00"}
{"id":"stackdocs-z3t","title":"Sidebar gradual collapse to icon-only mode","description":"[Migrated from ACTIVE.md #32]\n\nIcon-only mode at tablet breakpoint (768-1024px) instead of hard switch to mobile sheet.\n\nCurrently: Single breakpoint at 1024px switches directly to mobile sheet overlay\nGoal: Desktop (\u003e=1024px) full sidebar, Tablet (768-1024px) icon-only locked, Mobile (\u003c768px) sheet\nBehavior: Icon-only mode locked (no expand), desktop state remembered when resizing back\nChanges: Update use-mobile.ts to three-state, modify SidebarProvider and Sidebar component\nReference: Linear collapses sidebar at ~1024px with similar pattern\n\nDate: 2025-12-31","status":"open","priority":2,"issue_type":"feature","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:08:35.704286+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:08:35.704286+11:00"}
{"id":"stackdocs-zvl","title":"Clerk production OAuth missing client_id","description":"[Migrated from ACTIVE.md #3]\n\nGoogle, Microsoft fail; Apple removed.\n\nSetup instructions:\n- Google: Cloud Console → APIs \u0026 Credentials → Create OAuth 2.0 Client ID → Add to Clerk\n- Microsoft: Azure Portal → App Registrations → Create app → Add to Clerk\n- Clerk docs: https://clerk.com/docs/authentication/social-connections/google\n\nDate: 2025-12-23","status":"open","priority":2,"issue_type":"bug","owner":"fraserbrown@live.com","created_at":"2026-01-25T10:06:54.33104+11:00","created_by":"thebrownproject","updated_at":"2026-01-25T10:06:54.33104+11:00"}
